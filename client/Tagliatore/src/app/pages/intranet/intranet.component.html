<!--  Body Wrapper -->
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
data-sidebar-position="fixed" data-header-position="fixed">
<app-sidebar></app-sidebar>
<!--  Main wrapper -->
<div class="body-wrapper">
  <!--Header-->
  <app-header></app-header>

  <div class="container-fluid">
    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title d-flex align-items-center gap-2 mb-4">
                        Historial de Ordenes
                        <span>
                            <iconify-icon icon="solar:question-circle-bold" class="fs-7 d-flex text-muted" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="tooltip-success" data-bs-title="Traffic Overview"></iconify-icon>
                        </span>
                    </h5>                
                    <div #trafficOverview id="traffic-overview" style="height: 320px;">
                    </div>
                </div>
            </div>
        </div>
    <div class="col-lg-4">
      <div class="card">
        <div class="card-body text-center">
          <img src="../assets/images/profile/user-1.jpg" alt="image" class="img-fluid" width="205" style="border-radius: 10px;">
          <h4 class="mt-7">Chatea con los Clientes!</h4>
          <p class="card-subtitle mt-2 mb-3">Ingresa al chat en vivo con los clientes.</p>
            <button class="btn btn-primary mb-3" routerLink="/vista-chat">Ir al chat</button>
        </div>
      </div>
    </div>
    <div class="col-lg-8">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Nuestra Carta</h5>
          <div class="table-responsive">
            <table class="table text-nowrap align-middle mb-0">
              <thead>
                <tr class="border-2 border-bottom border-primary border-0">
                  <th scope="col" class="text-left">Imagen</th>
                  <th scope="col" class="ps-0">Nombre</th>
                  <th scope="col">Ingredientes</th>
                  <th scope="col" class="text-center">Precio</th>
                  <th scope="col" class="text-center">Categoría</th>
                </tr>
              </thead>
              <tbody class="table-group-divider">
                <tr *ngFor="let platillo of platilloData">
                  <td class="text-left fw-medium">
                    <!-- Imagen con lógica condicional usando {{}} -->
                    <img src="{{ platillo.imagenes[0] ? platillo.imagenes[0] : 'https://www.technipages.com/wp-content/uploads/2020/12/enable-extensions-in-incognito-mode.png' }}" 
                         alt="Imagen de {{ platillo.nombre }}" 
                         class="img-thumbnail rounded-circle" 
                         style="width: 80px; height: 80px; object-fit: cover;">
                  </td>
                  <td scope="row" class="ps-0 fw-medium">
                    <span class="table-link1 text-truncate d-block">
                      {{ platillo.nombre }}
                    </span>
                  </td>
                  <td class="text-dark fw-medium" style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; ">
                    <span class="d-block break-word" style="text-transform: capitalize;">
                      {{ platillo.ingredientes.join(', ') }}
                    </span>
                  </td>
                  <td class="text-center fw-medium">
                    ${{ platillo.precio.toFixed(2) }}
                  </td>
                  <td scope="row" class="ps-0 fw-medium text-center">
                      {{ platillo.categoriaId.nombre }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="card">
        <div class="card-body">
            <h5 class="card-title d-flex align-items-center gap-2 mb-5 pb-3">
              Información de Usuario Conectados
            </h5>
              <div class="row">
                <div class="col-4">
                  <i class="bi bi-laptop fs-7 d-flex text-primary"></i> <!-- Icono de computadora -->
                  <span class="fs-11 mt-2 d-block text-nowrap">Escritorio</span>
                  <h4 class="mb-0 mt-1">87%</h4>
                </div>
                <div class="col-4">
                  <i class="bi bi-phone fs-7 d-flex text-secondary"></i> <!-- Icono de smartphone -->
                  <span class="fs-11 mt-2 d-block text-nowrap">Celular</span>
                  <h4 class="mb-0 mt-1">9.2%</h4>
                </div>
                <div class="col-4">
                  <i class="bi bi-tablet fs-7 d-flex text-success"></i> <!-- Icono de tablet -->
                  <span class="fs-11 mt-2 d-block text-nowrap">Tablet</span>
                  <h4 class="mb-0 mt-1">3.1%</h4>
                </div>
              </div>      

          <div class="vstack gap-4 mt-7 pt-2">
            <div>
              <div class="hstack justify-content-between">
                <span class="fs-3 fw-medium">Escritorio</span>
                <h6 class="fs-3 fw-medium text-dark lh-base mb-0">87%</h6>
              </div>
              <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-primary" style="width: 100%"></div>
              </div>
            </div>

            <div>
              <div class="hstack justify-content-between">
                <span class="fs-3 fw-medium">Celular</span>
                <h6 class="fs-3 fw-medium text-dark lh-base mb-0">9.2%</h6>
              </div>
              <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-secondary" style="width: 50%"></div>
              </div>
            </div>

            <div>
              <div class="hstack justify-content-between">
                <span class="fs-3 fw-medium">Tablet</span>
                <h6 class="fs-3 fw-medium text-dark lh-base mb-0">3.1%</h6>
              </div>
              <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                <div class="progress-bar bg-success" style="width: 35%"></div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!--Start Footer-->
    <app-footer></app-footer>
    <!--End Footer-->
  </div>
</div>
</div>
<script src="../../../assets/libs/jquery/dist/jquery.min.js"></script>
<script src="../../../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../../assets/libs/apexcharts/dist/apexcharts.min.js"></script>
<script src="../../../assets/libs/simplebar/dist/simplebar.js"></script>
<script src="../../../assets/js/sidebarmenu.js"></script>
<script src="../../../assets/js/app.min.js"></script>
<!-- <script src="../../../assets/js/dashboard.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts@latest"></script>